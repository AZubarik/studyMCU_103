ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"AD7793.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.AD7793_SingleConversion,"ax",%progbits
  18              		.align	1
  19              		.global	AD7793_SingleConversion
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	AD7793_SingleConversion:
  25              	.LFB70:
  26              		.file 1 "Drivers/AD7793/AD7793.c"
   1:Drivers/AD7793/AD7793.c **** #include "AD7793.h"
   2:Drivers/AD7793/AD7793.c **** #include "spi.h"
   3:Drivers/AD7793/AD7793.c **** #include "gpio.h"
   4:Drivers/AD7793/AD7793.c **** 
   5:Drivers/AD7793/AD7793.c **** void AD7793_Init(void)
   6:Drivers/AD7793/AD7793.c **** {
   7:Drivers/AD7793/AD7793.c **** 	unsigned char init_command[3] = {0x50, 0x00, 0x00};
   8:Drivers/AD7793/AD7793.c ****     send_to_SPI(init_command, sizeof(init_command));
   9:Drivers/AD7793/AD7793.c **** }
  10:Drivers/AD7793/AD7793.c **** 
  11:Drivers/AD7793/AD7793.c **** void AD7793_Reset(void)
  12:Drivers/AD7793/AD7793.c **** {
  13:Drivers/AD7793/AD7793.c **** 	unsigned char dataToSend[4] = {0xff, 0xff, 0xff, 0xff};
  14:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, sizeof(dataToSend));
  15:Drivers/AD7793/AD7793.c **** }
  16:Drivers/AD7793/AD7793.c **** 
  17:Drivers/AD7793/AD7793.c **** void AD7793_Mode_Register(unsigned char mode, unsigned long clksrc, unsigned long rate)
  18:Drivers/AD7793/AD7793.c **** {
  19:Drivers/AD7793/AD7793.c ****     unsigned char dataToSend[3] = {0x01, 0x00, 0x00};
  20:Drivers/AD7793/AD7793.c ****                   dataToSend[1] = mode << 5;
  21:Drivers/AD7793/AD7793.c ****                   dataToSend[2] = (clksrc << 6) + rate;
  22:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 3);
  23:Drivers/AD7793/AD7793.c **** }
  24:Drivers/AD7793/AD7793.c **** 
  25:Drivers/AD7793/AD7793.c **** void AD7793_Configuration_Register(unsigned char vbias, unsigned char gain, unsigned char refsel, u
  26:Drivers/AD7793/AD7793.c **** {
  27:Drivers/AD7793/AD7793.c ****     uint8_t vbias_gain = (vbias << 6) + gain;
  28:Drivers/AD7793/AD7793.c ****     uint8_t refsel_chanel = 0x10 | ((refsel << 7) + channel);
  29:Drivers/AD7793/AD7793.c **** 	uint8_t conf_command[3] = {AD7793_REG_CONF, vbias_gain, refsel_chanel};
  30:Drivers/AD7793/AD7793.c ****     send_to_SPI(conf_command, sizeof(conf_command)); 
  31:Drivers/AD7793/AD7793.c **** }
  32:Drivers/AD7793/AD7793.c **** 
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 2


  33:Drivers/AD7793/AD7793.c **** void AD7793_IO_Register(unsigned char direction, unsigned char current)
  34:Drivers/AD7793/AD7793.c **** {
  35:Drivers/AD7793/AD7793.c ****     unsigned char dataToSend[2] = {AD7793_REG_IO, current};
  36:Drivers/AD7793/AD7793.c ****                   dataToSend[1] = (direction << 2) + current;          
  37:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 2);
  38:Drivers/AD7793/AD7793.c **** }
  39:Drivers/AD7793/AD7793.c **** 
  40:Drivers/AD7793/AD7793.c **** unsigned long AD7793_SingleConversion(void)
  41:Drivers/AD7793/AD7793.c **** {
  27              		.loc 1 41 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 30B5     		push	{r4, r5, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 12
  34              		.cfi_offset 4, -12
  35              		.cfi_offset 5, -8
  36              		.cfi_offset 14, -4
  37 0002 85B0     		sub	sp, sp, #20
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 32
  42:Drivers/AD7793/AD7793.c ****     uint8_t conf[4] = {AD7793_REG_DATA};
  40              		.loc 1 42 5 view .LVU1
  41              		.loc 1 42 13 is_stmt 0 view .LVU2
  42 0004 5823     		movs	r3, #88
  43 0006 0393     		str	r3, [sp, #12]
  43:Drivers/AD7793/AD7793.c ****     uint8_t out[4] = {0x00, 0x00, 0x00, 0x00};
  44              		.loc 1 43 5 is_stmt 1 view .LVU3
  45              		.loc 1 43 13 is_stmt 0 view .LVU4
  46 0008 0022     		movs	r2, #0
  47 000a 0292     		str	r2, [sp, #8]
  44:Drivers/AD7793/AD7793.c ****     
  45:Drivers/AD7793/AD7793.c ****     CS_Pin_OFF;
  48              		.loc 1 45 5 is_stmt 1 view .LVU5
  49 000c 0F4C     		ldr	r4, .L3
  50 000e 4FF48051 		mov	r1, #4096
  51 0012 2046     		mov	r0, r4
  52 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
  53              	.LVL0:
  46:Drivers/AD7793/AD7793.c ****         HAL_SPI_TransmitReceive(&hspi2, conf, out, sizeof(out) , 1);
  54              		.loc 1 46 9 view .LVU6
  55 0018 0125     		movs	r5, #1
  56 001a 0095     		str	r5, [sp]
  57 001c 0423     		movs	r3, #4
  58 001e 02AA     		add	r2, sp, #8
  59 0020 03A9     		add	r1, sp, #12
  60 0022 0B48     		ldr	r0, .L3+4
  61 0024 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
  62              	.LVL1:
  47:Drivers/AD7793/AD7793.c ****     CS_Pin_ON;
  63              		.loc 1 47 5 view .LVU7
  64 0028 2A46     		mov	r2, r5
  65 002a 4FF48051 		mov	r1, #4096
  66 002e 2046     		mov	r0, r4
  67 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
  68              	.LVL2:
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 3


  48:Drivers/AD7793/AD7793.c **** 
  49:Drivers/AD7793/AD7793.c ****     uint32_t data_out = (((int32_t)out[1])<<16) | (((int32_t)out[2])<<8) | (((int32_t)out[3]));
  69              		.loc 1 49 5 view .LVU8
  70              		.loc 1 49 39 is_stmt 0 view .LVU9
  71 0034 9DF80900 		ldrb	r0, [sp, #9]	@ zero_extendqisi2
  72              		.loc 1 49 65 view .LVU10
  73 0038 9DF80A30 		ldrb	r3, [sp, #10]	@ zero_extendqisi2
  74              		.loc 1 49 69 view .LVU11
  75 003c 1B02     		lsls	r3, r3, #8
  76              		.loc 1 49 49 view .LVU12
  77 003e 43EA0043 		orr	r3, r3, r0, lsl #16
  78              		.loc 1 49 90 view .LVU13
  79 0042 9DF80B00 		ldrb	r0, [sp, #11]	@ zero_extendqisi2
  80              	.LVL3:
  50:Drivers/AD7793/AD7793.c ****     return(data_out);
  81              		.loc 1 50 5 is_stmt 1 view .LVU14
  51:Drivers/AD7793/AD7793.c **** }
  82              		.loc 1 51 1 is_stmt 0 view .LVU15
  83 0046 1843     		orrs	r0, r0, r3
  84              	.LVL4:
  85              		.loc 1 51 1 view .LVU16
  86 0048 05B0     		add	sp, sp, #20
  87              	.LCFI2:
  88              		.cfi_def_cfa_offset 12
  89              		@ sp needed
  90 004a 30BD     		pop	{r4, r5, pc}
  91              	.L4:
  92              		.align	2
  93              	.L3:
  94 004c 000C0140 		.word	1073810432
  95 0050 00000000 		.word	hspi2
  96              		.cfi_endproc
  97              	.LFE70:
  99              		.section	.text.AD7793_ContinuousReadAvg,"ax",%progbits
 100              		.align	1
 101              		.global	AD7793_ContinuousReadAvg
 102              		.syntax unified
 103              		.thumb
 104              		.thumb_func
 106              	AD7793_ContinuousReadAvg:
 107              	.LVL5:
 108              	.LFB71:
  52:Drivers/AD7793/AD7793.c **** 
  53:Drivers/AD7793/AD7793.c **** unsigned long AD7793_ContinuousReadAvg(unsigned char sampleNumber)
  54:Drivers/AD7793/AD7793.c **** {
 109              		.loc 1 54 1 is_stmt 1 view -0
 110              		.cfi_startproc
 111              		@ args = 0, pretend = 0, frame = 8
 112              		@ frame_needed = 0, uses_anonymous_args = 0
 113              		.loc 1 54 1 is_stmt 0 view .LVU18
 114 0000 70B5     		push	{r4, r5, r6, lr}
 115              	.LCFI3:
 116              		.cfi_def_cfa_offset 16
 117              		.cfi_offset 4, -16
 118              		.cfi_offset 5, -12
 119              		.cfi_offset 6, -8
 120              		.cfi_offset 14, -4
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 4


 121 0002 84B0     		sub	sp, sp, #16
 122              	.LCFI4:
 123              		.cfi_def_cfa_offset 32
 124 0004 0646     		mov	r6, r0
  55:Drivers/AD7793/AD7793.c ****     
  56:Drivers/AD7793/AD7793.c ****     uint8_t conf[4] = {AD7793_REG_DATA};
 125              		.loc 1 56 5 is_stmt 1 view .LVU19
 126              		.loc 1 56 13 is_stmt 0 view .LVU20
 127 0006 5823     		movs	r3, #88
 128 0008 0393     		str	r3, [sp, #12]
  57:Drivers/AD7793/AD7793.c ****     uint8_t out[4] = {0x00, 0x00, 0x00, 0x00};
 129              		.loc 1 57 5 is_stmt 1 view .LVU21
 130              		.loc 1 57 13 is_stmt 0 view .LVU22
 131 000a 0025     		movs	r5, #0
 132 000c 0295     		str	r5, [sp, #8]
  58:Drivers/AD7793/AD7793.c ****     unsigned long   samplesAverage = 0x0;
 133              		.loc 1 58 5 is_stmt 1 view .LVU23
 134              	.LVL6:
  59:Drivers/AD7793/AD7793.c ****     unsigned char count = 0x0;
 135              		.loc 1 59 5 view .LVU24
  60:Drivers/AD7793/AD7793.c ****     
  61:Drivers/AD7793/AD7793.c ****     CS_Pin_OFF;
 136              		.loc 1 61 5 view .LVU25
 137 000e 2A46     		mov	r2, r5
 138 0010 4FF48051 		mov	r1, #4096
 139 0014 1248     		ldr	r0, .L9
 140              	.LVL7:
 141              		.loc 1 61 5 is_stmt 0 view .LVU26
 142 0016 FFF7FEFF 		bl	HAL_GPIO_WritePin
 143              	.LVL8:
  62:Drivers/AD7793/AD7793.c ****     for(count = 0;count < sampleNumber;count ++)
 144              		.loc 1 62 5 is_stmt 1 view .LVU27
 145              		.loc 1 62 15 is_stmt 0 view .LVU28
 146 001a 2C46     		mov	r4, r5
 147              		.loc 1 62 5 view .LVU29
 148 001c 14E0     		b	.L6
 149              	.LVL9:
 150              	.L7:
 151              	.LBB2:
  63:Drivers/AD7793/AD7793.c ****     {
  64:Drivers/AD7793/AD7793.c ****         HAL_SPI_TransmitReceive(&hspi2, conf, out, sizeof(out) , 1);
 152              		.loc 1 64 9 is_stmt 1 discriminator 3 view .LVU30
 153 001e 0123     		movs	r3, #1
 154 0020 0093     		str	r3, [sp]
 155 0022 0423     		movs	r3, #4
 156 0024 02AA     		add	r2, sp, #8
 157 0026 03A9     		add	r1, sp, #12
 158 0028 0E48     		ldr	r0, .L9+4
 159 002a FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 160              	.LVL10:
  65:Drivers/AD7793/AD7793.c ****         uint32_t data_out = (((int32_t)out[1])<<16) | (((int32_t)out[2])<<8) | (((int32_t)out[3]));
 161              		.loc 1 65 9 discriminator 3 view .LVU31
 162              		.loc 1 65 43 is_stmt 0 discriminator 3 view .LVU32
 163 002e 9DF80920 		ldrb	r2, [sp, #9]	@ zero_extendqisi2
 164              		.loc 1 65 69 discriminator 3 view .LVU33
 165 0032 9DF80A30 		ldrb	r3, [sp, #10]	@ zero_extendqisi2
 166              		.loc 1 65 73 discriminator 3 view .LVU34
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 5


 167 0036 1B02     		lsls	r3, r3, #8
 168              		.loc 1 65 53 discriminator 3 view .LVU35
 169 0038 43EA0243 		orr	r3, r3, r2, lsl #16
 170              		.loc 1 65 94 discriminator 3 view .LVU36
 171 003c 9DF80B20 		ldrb	r2, [sp, #11]	@ zero_extendqisi2
 172              		.loc 1 65 78 discriminator 3 view .LVU37
 173 0040 1343     		orrs	r3, r3, r2
 174              	.LVL11:
  66:Drivers/AD7793/AD7793.c ****         samplesAverage += data_out;
 175              		.loc 1 66 9 is_stmt 1 discriminator 3 view .LVU38
 176              		.loc 1 66 24 is_stmt 0 discriminator 3 view .LVU39
 177 0042 1D44     		add	r5, r5, r3
 178              	.LVL12:
 179              		.loc 1 66 24 discriminator 3 view .LVU40
 180              	.LBE2:
  62:Drivers/AD7793/AD7793.c ****     {
 181              		.loc 1 62 40 is_stmt 1 discriminator 3 view .LVU41
  62:Drivers/AD7793/AD7793.c ****     {
 182              		.loc 1 62 46 is_stmt 0 discriminator 3 view .LVU42
 183 0044 0134     		adds	r4, r4, #1
 184              	.LVL13:
  62:Drivers/AD7793/AD7793.c ****     {
 185              		.loc 1 62 46 discriminator 3 view .LVU43
 186 0046 E4B2     		uxtb	r4, r4
 187              	.LVL14:
 188              	.L6:
  62:Drivers/AD7793/AD7793.c ****     {
 189              		.loc 1 62 19 is_stmt 1 discriminator 1 view .LVU44
  62:Drivers/AD7793/AD7793.c ****     {
 190              		.loc 1 62 5 is_stmt 0 discriminator 1 view .LVU45
 191 0048 B442     		cmp	r4, r6
 192 004a E8D3     		bcc	.L7
  67:Drivers/AD7793/AD7793.c ****     }
  68:Drivers/AD7793/AD7793.c ****     CS_Pin_ON;
 193              		.loc 1 68 5 is_stmt 1 view .LVU46
 194 004c 0122     		movs	r2, #1
 195 004e 4FF48051 		mov	r1, #4096
 196 0052 0348     		ldr	r0, .L9
 197 0054 FFF7FEFF 		bl	HAL_GPIO_WritePin
 198              	.LVL15:
  69:Drivers/AD7793/AD7793.c ****     samplesAverage = samplesAverage / sampleNumber;
 199              		.loc 1 69 5 view .LVU47
  70:Drivers/AD7793/AD7793.c ****     return(samplesAverage);
 200              		.loc 1 70 5 view .LVU48
  71:Drivers/AD7793/AD7793.c **** }
 201              		.loc 1 71 1 is_stmt 0 view .LVU49
 202 0058 B5FBF6F0 		udiv	r0, r5, r6
 203              	.LVL16:
 204              		.loc 1 71 1 view .LVU50
 205 005c 04B0     		add	sp, sp, #16
 206              	.LCFI5:
 207              		.cfi_def_cfa_offset 16
 208              		@ sp needed
 209 005e 70BD     		pop	{r4, r5, r6, pc}
 210              	.LVL17:
 211              	.L10:
 212              		.loc 1 71 1 view .LVU51
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 6


 213              		.align	2
 214              	.L9:
 215 0060 000C0140 		.word	1073810432
 216 0064 00000000 		.word	hspi2
 217              		.cfi_endproc
 218              	.LFE71:
 220              		.section	.text.send_to_SPI,"ax",%progbits
 221              		.align	1
 222              		.global	send_to_SPI
 223              		.syntax unified
 224              		.thumb
 225              		.thumb_func
 227              	send_to_SPI:
 228              	.LVL18:
 229              	.LFB72:
  72:Drivers/AD7793/AD7793.c **** 
  73:Drivers/AD7793/AD7793.c **** void send_to_SPI(uint8_t *data, uint16_t size) 
  74:Drivers/AD7793/AD7793.c **** {
 230              		.loc 1 74 1 is_stmt 1 view -0
 231              		.cfi_startproc
 232              		@ args = 0, pretend = 0, frame = 0
 233              		@ frame_needed = 0, uses_anonymous_args = 0
 234              		.loc 1 74 1 is_stmt 0 view .LVU53
 235 0000 70B5     		push	{r4, r5, r6, lr}
 236              	.LCFI6:
 237              		.cfi_def_cfa_offset 16
 238              		.cfi_offset 4, -16
 239              		.cfi_offset 5, -12
 240              		.cfi_offset 6, -8
 241              		.cfi_offset 14, -4
 242 0002 0446     		mov	r4, r0
 243 0004 0D46     		mov	r5, r1
  75:Drivers/AD7793/AD7793.c ****     CS_Pin_OFF; 
 244              		.loc 1 75 5 is_stmt 1 view .LVU54
 245 0006 0A4E     		ldr	r6, .L13
 246 0008 0022     		movs	r2, #0
 247 000a 4FF48051 		mov	r1, #4096
 248              	.LVL19:
 249              		.loc 1 75 5 is_stmt 0 view .LVU55
 250 000e 3046     		mov	r0, r6
 251              	.LVL20:
 252              		.loc 1 75 5 view .LVU56
 253 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 254              	.LVL21:
  76:Drivers/AD7793/AD7793.c **** 	    HAL_SPI_Transmit(&hspi2, data, size, 1);
 255              		.loc 1 76 6 is_stmt 1 view .LVU57
 256 0014 0123     		movs	r3, #1
 257 0016 2A46     		mov	r2, r5
 258 0018 2146     		mov	r1, r4
 259 001a 0648     		ldr	r0, .L13+4
 260 001c FFF7FEFF 		bl	HAL_SPI_Transmit
 261              	.LVL22:
  77:Drivers/AD7793/AD7793.c ****     CS_Pin_ON;    
 262              		.loc 1 77 5 view .LVU58
 263 0020 0122     		movs	r2, #1
 264 0022 4FF48051 		mov	r1, #4096
 265 0026 3046     		mov	r0, r6
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 7


 266 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 267              	.LVL23:
  78:Drivers/AD7793/AD7793.c **** }
 268              		.loc 1 78 1 is_stmt 0 view .LVU59
 269 002c 70BD     		pop	{r4, r5, r6, pc}
 270              	.LVL24:
 271              	.L14:
 272              		.loc 1 78 1 view .LVU60
 273 002e 00BF     		.align	2
 274              	.L13:
 275 0030 000C0140 		.word	1073810432
 276 0034 00000000 		.word	hspi2
 277              		.cfi_endproc
 278              	.LFE72:
 280              		.section	.text.AD7793_Init,"ax",%progbits
 281              		.align	1
 282              		.global	AD7793_Init
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 287              	AD7793_Init:
 288              	.LFB65:
   6:Drivers/AD7793/AD7793.c **** 	unsigned char init_command[3] = {0x50, 0x00, 0x00};
 289              		.loc 1 6 1 is_stmt 1 view -0
 290              		.cfi_startproc
 291              		@ args = 0, pretend = 0, frame = 8
 292              		@ frame_needed = 0, uses_anonymous_args = 0
 293 0000 00B5     		push	{lr}
 294              	.LCFI7:
 295              		.cfi_def_cfa_offset 4
 296              		.cfi_offset 14, -4
 297 0002 83B0     		sub	sp, sp, #12
 298              	.LCFI8:
 299              		.cfi_def_cfa_offset 16
   7:Drivers/AD7793/AD7793.c ****     send_to_SPI(init_command, sizeof(init_command));
 300              		.loc 1 7 2 view .LVU62
   7:Drivers/AD7793/AD7793.c ****     send_to_SPI(init_command, sizeof(init_command));
 301              		.loc 1 7 16 is_stmt 0 view .LVU63
 302 0004 064B     		ldr	r3, .L17
 303 0006 1B68     		ldr	r3, [r3]
 304 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 305 000c 1B0C     		lsrs	r3, r3, #16
 306 000e 8DF80630 		strb	r3, [sp, #6]
   8:Drivers/AD7793/AD7793.c **** }
 307              		.loc 1 8 5 is_stmt 1 view .LVU64
 308 0012 0321     		movs	r1, #3
 309 0014 01A8     		add	r0, sp, #4
 310 0016 FFF7FEFF 		bl	send_to_SPI
 311              	.LVL25:
   9:Drivers/AD7793/AD7793.c **** 
 312              		.loc 1 9 1 is_stmt 0 view .LVU65
 313 001a 03B0     		add	sp, sp, #12
 314              	.LCFI9:
 315              		.cfi_def_cfa_offset 4
 316              		@ sp needed
 317 001c 5DF804FB 		ldr	pc, [sp], #4
 318              	.L18:
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 8


 319              		.align	2
 320              	.L17:
 321 0020 00000000 		.word	.LANCHOR0
 322              		.cfi_endproc
 323              	.LFE65:
 325              		.section	.text.AD7793_Reset,"ax",%progbits
 326              		.align	1
 327              		.global	AD7793_Reset
 328              		.syntax unified
 329              		.thumb
 330              		.thumb_func
 332              	AD7793_Reset:
 333              	.LFB66:
  12:Drivers/AD7793/AD7793.c **** 	unsigned char dataToSend[4] = {0xff, 0xff, 0xff, 0xff};
 334              		.loc 1 12 1 is_stmt 1 view -0
 335              		.cfi_startproc
 336              		@ args = 0, pretend = 0, frame = 8
 337              		@ frame_needed = 0, uses_anonymous_args = 0
 338 0000 00B5     		push	{lr}
 339              	.LCFI10:
 340              		.cfi_def_cfa_offset 4
 341              		.cfi_offset 14, -4
 342 0002 83B0     		sub	sp, sp, #12
 343              	.LCFI11:
 344              		.cfi_def_cfa_offset 16
  13:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, sizeof(dataToSend));
 345              		.loc 1 13 2 view .LVU67
  13:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, sizeof(dataToSend));
 346              		.loc 1 13 16 is_stmt 0 view .LVU68
 347 0004 4FF0FF33 		mov	r3, #-1
 348 0008 0193     		str	r3, [sp, #4]
  14:Drivers/AD7793/AD7793.c **** }
 349              		.loc 1 14 5 is_stmt 1 view .LVU69
 350 000a 0421     		movs	r1, #4
 351 000c 0DEB0100 		add	r0, sp, r1
 352 0010 FFF7FEFF 		bl	send_to_SPI
 353              	.LVL26:
  15:Drivers/AD7793/AD7793.c **** 
 354              		.loc 1 15 1 is_stmt 0 view .LVU70
 355 0014 03B0     		add	sp, sp, #12
 356              	.LCFI12:
 357              		.cfi_def_cfa_offset 4
 358              		@ sp needed
 359 0016 5DF804FB 		ldr	pc, [sp], #4
 360              		.cfi_endproc
 361              	.LFE66:
 363              		.section	.text.AD7793_Mode_Register,"ax",%progbits
 364              		.align	1
 365              		.global	AD7793_Mode_Register
 366              		.syntax unified
 367              		.thumb
 368              		.thumb_func
 370              	AD7793_Mode_Register:
 371              	.LVL27:
 372              	.LFB67:
  18:Drivers/AD7793/AD7793.c ****     unsigned char dataToSend[3] = {0x01, 0x00, 0x00};
 373              		.loc 1 18 1 is_stmt 1 view -0
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 9


 374              		.cfi_startproc
 375              		@ args = 0, pretend = 0, frame = 8
 376              		@ frame_needed = 0, uses_anonymous_args = 0
  18:Drivers/AD7793/AD7793.c ****     unsigned char dataToSend[3] = {0x01, 0x00, 0x00};
 377              		.loc 1 18 1 is_stmt 0 view .LVU72
 378 0000 00B5     		push	{lr}
 379              	.LCFI13:
 380              		.cfi_def_cfa_offset 4
 381              		.cfi_offset 14, -4
 382 0002 83B0     		sub	sp, sp, #12
 383              	.LCFI14:
 384              		.cfi_def_cfa_offset 16
  19:Drivers/AD7793/AD7793.c ****                   dataToSend[1] = mode << 5;
 385              		.loc 1 19 5 is_stmt 1 view .LVU73
  19:Drivers/AD7793/AD7793.c ****                   dataToSend[1] = mode << 5;
 386              		.loc 1 19 19 is_stmt 0 view .LVU74
 387 0004 0A4B     		ldr	r3, .L23
 388 0006 5B68     		ldr	r3, [r3, #4]
 389 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 390 000c 1B0C     		lsrs	r3, r3, #16
 391 000e 8DF80630 		strb	r3, [sp, #6]
  20:Drivers/AD7793/AD7793.c ****                   dataToSend[2] = (clksrc << 6) + rate;
 392              		.loc 1 20 19 is_stmt 1 view .LVU75
  20:Drivers/AD7793/AD7793.c ****                   dataToSend[2] = (clksrc << 6) + rate;
 393              		.loc 1 20 40 is_stmt 0 view .LVU76
 394 0012 4001     		lsls	r0, r0, #5
 395              	.LVL28:
  20:Drivers/AD7793/AD7793.c ****                   dataToSend[2] = (clksrc << 6) + rate;
 396              		.loc 1 20 33 view .LVU77
 397 0014 8DF80500 		strb	r0, [sp, #5]
  21:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 3);
 398              		.loc 1 21 19 is_stmt 1 view .LVU78
  21:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 3);
 399              		.loc 1 21 43 is_stmt 0 view .LVU79
 400 0018 8901     		lsls	r1, r1, #6
 401              	.LVL29:
  21:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 3);
 402              		.loc 1 21 43 view .LVU80
 403 001a C9B2     		uxtb	r1, r1
  21:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 3);
 404              		.loc 1 21 49 view .LVU81
 405 001c 1144     		add	r1, r1, r2
  21:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 3);
 406              		.loc 1 21 33 view .LVU82
 407 001e 8DF80610 		strb	r1, [sp, #6]
  22:Drivers/AD7793/AD7793.c **** }
 408              		.loc 1 22 5 is_stmt 1 view .LVU83
 409 0022 0321     		movs	r1, #3
 410 0024 01A8     		add	r0, sp, #4
 411 0026 FFF7FEFF 		bl	send_to_SPI
 412              	.LVL30:
  23:Drivers/AD7793/AD7793.c **** 
 413              		.loc 1 23 1 is_stmt 0 view .LVU84
 414 002a 03B0     		add	sp, sp, #12
 415              	.LCFI15:
 416              		.cfi_def_cfa_offset 4
 417              		@ sp needed
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 10


 418 002c 5DF804FB 		ldr	pc, [sp], #4
 419              	.L24:
 420              		.align	2
 421              	.L23:
 422 0030 00000000 		.word	.LANCHOR0
 423              		.cfi_endproc
 424              	.LFE67:
 426              		.section	.text.AD7793_Configuration_Register,"ax",%progbits
 427              		.align	1
 428              		.global	AD7793_Configuration_Register
 429              		.syntax unified
 430              		.thumb
 431              		.thumb_func
 433              	AD7793_Configuration_Register:
 434              	.LVL31:
 435              	.LFB68:
  26:Drivers/AD7793/AD7793.c ****     uint8_t vbias_gain = (vbias << 6) + gain;
 436              		.loc 1 26 1 is_stmt 1 view -0
 437              		.cfi_startproc
 438              		@ args = 0, pretend = 0, frame = 8
 439              		@ frame_needed = 0, uses_anonymous_args = 0
  26:Drivers/AD7793/AD7793.c ****     uint8_t vbias_gain = (vbias << 6) + gain;
 440              		.loc 1 26 1 is_stmt 0 view .LVU86
 441 0000 00B5     		push	{lr}
 442              	.LCFI16:
 443              		.cfi_def_cfa_offset 4
 444              		.cfi_offset 14, -4
 445 0002 83B0     		sub	sp, sp, #12
 446              	.LCFI17:
 447              		.cfi_def_cfa_offset 16
  27:Drivers/AD7793/AD7793.c ****     uint8_t refsel_chanel = 0x10 | ((refsel << 7) + channel);
 448              		.loc 1 27 5 is_stmt 1 view .LVU87
  27:Drivers/AD7793/AD7793.c ****     uint8_t refsel_chanel = 0x10 | ((refsel << 7) + channel);
 449              		.loc 1 27 33 is_stmt 0 view .LVU88
 450 0004 8001     		lsls	r0, r0, #6
 451              	.LVL32:
  27:Drivers/AD7793/AD7793.c ****     uint8_t refsel_chanel = 0x10 | ((refsel << 7) + channel);
 452              		.loc 1 27 33 view .LVU89
 453 0006 C0B2     		uxtb	r0, r0
  27:Drivers/AD7793/AD7793.c ****     uint8_t refsel_chanel = 0x10 | ((refsel << 7) + channel);
 454              		.loc 1 27 13 view .LVU90
 455 0008 0844     		add	r0, r0, r1
 456              	.LVL33:
  28:Drivers/AD7793/AD7793.c **** 	uint8_t conf_command[3] = {AD7793_REG_CONF, vbias_gain, refsel_chanel};
 457              		.loc 1 28 5 is_stmt 1 view .LVU91
  28:Drivers/AD7793/AD7793.c **** 	uint8_t conf_command[3] = {AD7793_REG_CONF, vbias_gain, refsel_chanel};
 458              		.loc 1 28 45 is_stmt 0 view .LVU92
 459 000a D201     		lsls	r2, r2, #7
 460              	.LVL34:
  28:Drivers/AD7793/AD7793.c **** 	uint8_t conf_command[3] = {AD7793_REG_CONF, vbias_gain, refsel_chanel};
 461              		.loc 1 28 45 view .LVU93
 462 000c D2B2     		uxtb	r2, r2
  28:Drivers/AD7793/AD7793.c **** 	uint8_t conf_command[3] = {AD7793_REG_CONF, vbias_gain, refsel_chanel};
 463              		.loc 1 28 51 view .LVU94
 464 000e 1A44     		add	r2, r2, r3
 465 0010 52B2     		sxtb	r2, r2
  28:Drivers/AD7793/AD7793.c **** 	uint8_t conf_command[3] = {AD7793_REG_CONF, vbias_gain, refsel_chanel};
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 11


 466              		.loc 1 28 34 view .LVU95
 467 0012 42F01002 		orr	r2, r2, #16
 468              	.LVL35:
  29:Drivers/AD7793/AD7793.c ****     send_to_SPI(conf_command, sizeof(conf_command)); 
 469              		.loc 1 29 2 is_stmt 1 view .LVU96
  29:Drivers/AD7793/AD7793.c ****     send_to_SPI(conf_command, sizeof(conf_command)); 
 470              		.loc 1 29 10 is_stmt 0 view .LVU97
 471 0016 1023     		movs	r3, #16
 472              	.LVL36:
  29:Drivers/AD7793/AD7793.c ****     send_to_SPI(conf_command, sizeof(conf_command)); 
 473              		.loc 1 29 10 view .LVU98
 474 0018 8DF80430 		strb	r3, [sp, #4]
 475 001c 8DF80500 		strb	r0, [sp, #5]
 476 0020 8DF80620 		strb	r2, [sp, #6]
  30:Drivers/AD7793/AD7793.c **** }
 477              		.loc 1 30 5 is_stmt 1 view .LVU99
 478 0024 0321     		movs	r1, #3
 479              	.LVL37:
  30:Drivers/AD7793/AD7793.c **** }
 480              		.loc 1 30 5 is_stmt 0 view .LVU100
 481 0026 01A8     		add	r0, sp, #4
 482              	.LVL38:
  30:Drivers/AD7793/AD7793.c **** }
 483              		.loc 1 30 5 view .LVU101
 484 0028 FFF7FEFF 		bl	send_to_SPI
 485              	.LVL39:
  31:Drivers/AD7793/AD7793.c **** 
 486              		.loc 1 31 1 view .LVU102
 487 002c 03B0     		add	sp, sp, #12
 488              	.LCFI18:
 489              		.cfi_def_cfa_offset 4
 490              		@ sp needed
 491 002e 5DF804FB 		ldr	pc, [sp], #4
 492              		.cfi_endproc
 493              	.LFE68:
 495              		.section	.text.AD7793_IO_Register,"ax",%progbits
 496              		.align	1
 497              		.global	AD7793_IO_Register
 498              		.syntax unified
 499              		.thumb
 500              		.thumb_func
 502              	AD7793_IO_Register:
 503              	.LVL40:
 504              	.LFB69:
  34:Drivers/AD7793/AD7793.c ****     unsigned char dataToSend[2] = {AD7793_REG_IO, current};
 505              		.loc 1 34 1 is_stmt 1 view -0
 506              		.cfi_startproc
 507              		@ args = 0, pretend = 0, frame = 8
 508              		@ frame_needed = 0, uses_anonymous_args = 0
  34:Drivers/AD7793/AD7793.c ****     unsigned char dataToSend[2] = {AD7793_REG_IO, current};
 509              		.loc 1 34 1 is_stmt 0 view .LVU104
 510 0000 00B5     		push	{lr}
 511              	.LCFI19:
 512              		.cfi_def_cfa_offset 4
 513              		.cfi_offset 14, -4
 514 0002 83B0     		sub	sp, sp, #12
 515              	.LCFI20:
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 12


 516              		.cfi_def_cfa_offset 16
  35:Drivers/AD7793/AD7793.c ****                   dataToSend[1] = (direction << 2) + current;          
 517              		.loc 1 35 5 is_stmt 1 view .LVU105
  35:Drivers/AD7793/AD7793.c ****                   dataToSend[1] = (direction << 2) + current;          
 518              		.loc 1 35 19 is_stmt 0 view .LVU106
 519 0004 2823     		movs	r3, #40
 520 0006 8DF80430 		strb	r3, [sp, #4]
 521 000a 8DF80510 		strb	r1, [sp, #5]
  36:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 2);
 522              		.loc 1 36 19 is_stmt 1 view .LVU107
  36:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 2);
 523              		.loc 1 36 46 is_stmt 0 view .LVU108
 524 000e 8000     		lsls	r0, r0, #2
 525              	.LVL41:
  36:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 2);
 526              		.loc 1 36 46 view .LVU109
 527 0010 C0B2     		uxtb	r0, r0
  36:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 2);
 528              		.loc 1 36 52 view .LVU110
 529 0012 0844     		add	r0, r0, r1
  36:Drivers/AD7793/AD7793.c ****     send_to_SPI(dataToSend, 2);
 530              		.loc 1 36 33 view .LVU111
 531 0014 8DF80500 		strb	r0, [sp, #5]
  37:Drivers/AD7793/AD7793.c **** }
 532              		.loc 1 37 5 is_stmt 1 view .LVU112
 533 0018 0221     		movs	r1, #2
 534              	.LVL42:
  37:Drivers/AD7793/AD7793.c **** }
 535              		.loc 1 37 5 is_stmt 0 view .LVU113
 536 001a 01A8     		add	r0, sp, #4
 537 001c FFF7FEFF 		bl	send_to_SPI
 538              	.LVL43:
  38:Drivers/AD7793/AD7793.c **** 
 539              		.loc 1 38 1 view .LVU114
 540 0020 03B0     		add	sp, sp, #12
 541              	.LCFI21:
 542              		.cfi_def_cfa_offset 4
 543              		@ sp needed
 544 0022 5DF804FB 		ldr	pc, [sp], #4
 545              		.cfi_endproc
 546              	.LFE69:
 548              		.section	.rodata
 549              		.align	2
 550              		.set	.LANCHOR0,. + 0
 551              	.LC0:
 552 0000 500000   		.ascii	"P\000\000"
 553 0003 00       		.space	1
 554              	.LC1:
 555 0004 010000   		.ascii	"\001\000\000"
 556              		.text
 557              	.Letext0:
 558              		.file 2 "c:\\vscodeide\\software\\armembeddedgcc\\arm-none-eabi\\include\\machine\\_default_types.
 559              		.file 3 "c:\\vscodeide\\software\\armembeddedgcc\\arm-none-eabi\\include\\sys\\_stdint.h"
 560              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 561              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 562              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 563              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 13


 564              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_spi.h"
 565              		.file 9 "Core/Inc/spi.h"
ARM GAS  C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 AD7793.c
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:18     .text.AD7793_SingleConversion:00000000 $t
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:24     .text.AD7793_SingleConversion:00000000 AD7793_SingleConversion
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:94     .text.AD7793_SingleConversion:0000004c $d
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:100    .text.AD7793_ContinuousReadAvg:00000000 $t
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:106    .text.AD7793_ContinuousReadAvg:00000000 AD7793_ContinuousReadAvg
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:215    .text.AD7793_ContinuousReadAvg:00000060 $d
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:221    .text.send_to_SPI:00000000 $t
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:227    .text.send_to_SPI:00000000 send_to_SPI
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:275    .text.send_to_SPI:00000030 $d
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:281    .text.AD7793_Init:00000000 $t
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:287    .text.AD7793_Init:00000000 AD7793_Init
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:321    .text.AD7793_Init:00000020 $d
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:326    .text.AD7793_Reset:00000000 $t
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:332    .text.AD7793_Reset:00000000 AD7793_Reset
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:364    .text.AD7793_Mode_Register:00000000 $t
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:370    .text.AD7793_Mode_Register:00000000 AD7793_Mode_Register
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:422    .text.AD7793_Mode_Register:00000030 $d
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:427    .text.AD7793_Configuration_Register:00000000 $t
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:433    .text.AD7793_Configuration_Register:00000000 AD7793_Configuration_Register
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:496    .text.AD7793_IO_Register:00000000 $t
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:502    .text.AD7793_IO_Register:00000000 AD7793_IO_Register
C:\Users\Andre\AppData\Local\Temp\ccU23OYQ.s:549    .rodata:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_TransmitReceive
hspi2
HAL_SPI_Transmit
